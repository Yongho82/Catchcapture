<Window x:Class="CatchCapture.Recording.RecordingWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ë…¹í™”ë„êµ¬" 
        Width="480" Height="70"
        WindowStyle="None" 
        AllowsTransparency="True" 
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="True"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen">
    
    <Window.Resources>
        <!-- íˆ´ë°” ë²„íŠ¼ ìŠ¤íƒ€ì¼ -->
        <Style x:Key="ToolbarButtonStyle" TargetType="Button">
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#20000000" TargetName="border"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#30000000" TargetName="border"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- í† ê¸€ ë²„íŠ¼ ìŠ¤íƒ€ì¼ -->
        <Style x:Key="ToggleToolbarButtonStyle" TargetType="ToggleButton">
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#20000000" TargetName="border"/>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter Property="Background" Value="#204361EE" TargetName="border"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <Border CornerRadius="8" Background="#FFFFFF" BorderThickness="1" BorderBrush="#E0E0E0">
        <Border.Effect>
            <DropShadowEffect ShadowDepth="2" BlurRadius="10" Opacity="0.3" Direction="270"/>
        </Border.Effect>
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="28"/> <!-- íƒ€ì´í‹€ë°” -->
                <RowDefinition Height="*"/>  <!-- íˆ´ë°” -->
            </Grid.RowDefinitions>
            
            <!-- íƒ€ì´í‹€ë°” -->
            <Border Grid.Row="0" CornerRadius="8,8,0,0" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown" Background="Transparent">
                <Grid>
                    <Border CornerRadius="8,8,0,0" Background="#4361EE"/>
                    <StackPanel Orientation="Horizontal" Margin="10,0,0,0">
                        <Image Source="/icons/videocamera.png" Width="14" Height="14" Margin="0,0,6,0" 
                               RenderOptions.BitmapScalingMode="HighQuality"/>
                        <TextBlock Text="ë…¹í™”ë„êµ¬" Foreground="White" FontWeight="SemiBold" FontSize="11"
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                    
                    <!-- ë‹«ê¸° ë²„íŠ¼ -->
                    <Button x:Name="CloseButton" HorizontalAlignment="Right" Margin="0,0,8,0"
                            Width="18" Height="18" Background="Transparent" BorderThickness="0"
                            Cursor="Hand" Click="CloseButton_Click">
                        <TextBlock Text="âœ•" FontSize="10" Foreground="White" 
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Button>
                </Grid>
            </Border>
            
            <!-- íˆ´ë°” -->
            <Border Grid.Row="1" Background="#FAFAFA" CornerRadius="0,0,8,8">
                <StackPanel Orientation="Horizontal" Margin="8,4" VerticalAlignment="Center">
                    
                    <!-- ë…¹í™” ì‹œê°„ -->
                    <TextBlock x:Name="RecordingTimeText" Text="00:00" 
                               FontSize="14" FontWeight="SemiBold" 
                               Foreground="#333333" VerticalAlignment="Center"
                               MinWidth="45" Margin="0,0,8,0"/>
                    
                    <!-- ë…¹í™” ì‹œìž‘/ì •ì§€ ë²„íŠ¼ -->
                    <Button x:Name="RecordButton" Style="{StaticResource ToolbarButtonStyle}"
                            Click="RecordButton_Click" ToolTip="ë…¹í™” ì‹œìž‘/ì •ì§€">
                        <Grid>
                            <Ellipse x:Name="RecordButtonIcon" Width="16" Height="16" Fill="#E53935"/>
                            <Rectangle x:Name="StopButtonIcon" Width="12" Height="12" Fill="#333333" Visibility="Collapsed"/>
                        </Grid>
                    </Button>
                    
                    <Separator Width="1" Height="20" Margin="4,0" Background="#E0E0E0"/>
                    
                    <!-- ì˜¤ë””ì˜¤ ì„¤ì • (í†µí•©) -->
                    <Button x:Name="AudioButton" Style="{StaticResource ToolbarButtonStyle}"
                            Click="AudioButton_Click" ToolTip="ì˜¤ë””ì˜¤ ì„¤ì •">
                        <Grid>
                            <TextBlock x:Name="AudioIcon" Text="ðŸŽ¤" FontSize="14" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <Ellipse x:Name="AudioStatusDot" Width="6" Height="6" Fill="#4CAF50" 
                                     HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,2,2,0" Visibility="Collapsed"/>
                        </Grid>
                        <Button.ContextMenu>
                            <ContextMenu>
                                <MenuItem Header="ë§ˆì´í¬ ë…¹ìŒ" IsCheckable="True" x:Name="MicMenuItem" Click="AudioMenuItem_Click"/>
                                <MenuItem Header="ì‹œìŠ¤í…œ ì†Œë¦¬ ë…¹ìŒ" IsCheckable="True" x:Name="SystemSoundMenuItem" Click="AudioMenuItem_Click"/>
                            </ContextMenu>
                        </Button.ContextMenu>
                    </Button>
                    
                    <!-- íŒŒì¼ í˜•ì‹ -->
                    <Button x:Name="FormatButton" Style="{StaticResource ToolbarButtonStyle}"
                            Click="FormatButton_Click" ToolTip="íŒŒì¼ í˜•ì‹">
                        <TextBlock x:Name="FormatText" Text="GIF" FontSize="10" FontWeight="Bold" Foreground="#4361EE"/>
                    </Button>
                    
                    <!-- í™”ì§ˆ ì„¤ì • -->
                    <Button x:Name="QualityButton" Style="{StaticResource ToolbarButtonStyle}"
                            Click="QualityButton_Click" ToolTip="í™”ì§ˆ (HD/SD/LD)">
                        <TextBlock x:Name="QualityText" Text="HD" FontSize="11" FontWeight="Bold" Foreground="#333"/>
                    </Button>
                    
                    <!-- í”„ë ˆìž„ ì„¤ì • -->
                    <Button x:Name="FpsButton" Style="{StaticResource ToolbarButtonStyle}"
                            Click="FpsButton_Click" ToolTip="í”„ë ˆìž„ ë ˆì´íŠ¸">
                        <TextBlock x:Name="FpsText" Text="30F" FontSize="11" FontWeight="Bold" Foreground="#333"/>
                    </Button>
                    
                    <!-- ë§ˆìš°ìŠ¤ íš¨ê³¼ -->
                    <ToggleButton x:Name="MouseEffectToggle" Style="{StaticResource ToggleToolbarButtonStyle}"
                                  Click="MouseEffectToggle_Click" ToolTip="ë§ˆìš°ìŠ¤ í´ë¦­ íš¨ê³¼">
                        <TextBlock Text="ðŸ–±ï¸" FontSize="14"/>
                    </ToggleButton>
                    
                    <!-- ì¹´ìš´íŠ¸ë‹¤ìš´ -->
                    <Button x:Name="TimerButton" Style="{StaticResource ToolbarButtonStyle}"
                            Click="TimerButton_Click" ToolTip="ì‹œìž‘ ì „ ì¹´ìš´íŠ¸ë‹¤ìš´">
                        <Grid>
                            <TextBlock Text="â±ï¸" FontSize="14"/>
                            <TextBlock x:Name="TimerText" Text="3" FontSize="9" FontWeight="Bold" Foreground="Black"
                                       HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,-2,-2"
                                       Visibility="Visible"/>
                        </Grid>
                    </Button>
                    
                    <Separator Width="1" Height="20" Margin="4,0" Background="#E0E0E0"/>
                    
                    <!-- ì˜ì—­ í¬ê¸° -->
                    <TextBlock x:Name="AreaSizeText" Text="800x600" 
                               FontSize="11" Foreground="#666666" 
                               VerticalAlignment="Center" Margin="4,0"/>
                    
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>
