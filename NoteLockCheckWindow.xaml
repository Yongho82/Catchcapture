<Window x:Class="CatchCapture.NoteLockCheckWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Note Lock" Height="230" Width="360"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize" WindowStyle="None"
        Background="Transparent" AllowsTransparency="True" ShowInTaskbar="False">
    
    <Window.Resources>
        <!-- Animations -->
        <Storyboard x:Key="FadeInAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.3"/>
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)" 
                             From="20" To="0" Duration="0:0:0.4">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>

        <!-- Modern Field Style -->
        <Style x:Key="ModernPasswordBox" TargetType="PasswordBox">
            <Setter Property="Padding" Value="10,5,35,5"/>
            <Setter Property="Background" Value="#F8F9FA"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border x:Name="border" CornerRadius="8" Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}"
                                SnapsToDevicePixels="True">
                            <ScrollViewer x:Name="PART_ContentHost" Focusable="false" HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Hidden"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#8E2DE2"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="1.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ModernRevealTextBox" TargetType="TextBox">
            <Setter Property="Padding" Value="10,5,35,5"/>
            <Setter Property="Background" Value="#F8F9FA"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="border" CornerRadius="8" Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}"
                                SnapsToDevicePixels="True">
                            <ScrollViewer x:Name="PART_ContentHost" Focusable="false" HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Hidden"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#8E2DE2"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="1.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="PrimaryButton" TargetType="Button">
            <Setter Property="Background" Value="#8E2DE2"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" CornerRadius="8" SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#7A22C5"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#6A1BB0"/>
                                <Setter Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="0.98" ScaleY="0.98"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SecondaryButton" TargetType="Button">
            <Setter Property="Background" Value="#F1F3F5"/>
            <Setter Property="Foreground" Value="#495057"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" CornerRadius="8" SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#E9ECEF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard Storyboard="{StaticResource FadeInAnimation}"/>
        </EventTrigger>
    </Window.Triggers>

    <Border Margin="10" CornerRadius="16" Background="White">
        <Border.Effect>
            <DropShadowEffect BlurRadius="12" Direction="270" Opacity="0.12" ShadowDepth="2" Color="Black"/>
        </Border.Effect>
        <Border.RenderTransform>
            <TranslateTransform Y="0"/>
        </Border.RenderTransform>

        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                <Grid Width="32" Height="32" Margin="0,0,10,0">
                    <Ellipse Fill="#F3E5F5"/>
                    <Path Data="M18,8A5,5,0,0,1,23,13V15H24A2,2,0,0,1,26,17V24A2,2,0,0,1,24,26H12A2,2,0,0,1,10,24V17A2,2,0,0,1,12,15H13V13A5,5,0,0,1,18,8M18,10A3,3,0,0,0,15,13V15H21V13A3,3,0,0,0,18,10M18,19A2,2,0,0,0,16,21A2,2,0,0,0,18,23A2,2,0,0,0,20,21A2,2,0,0,0,18,19Z" 
                          Fill="#8E2DE2" Stretch="Uniform" Margin="7"/>
                </Grid>
                <StackPanel VerticalAlignment="Center">
                    <TextBlock x:Name="TxtHeaderTitle" Text="노트 잠금 해제" FontSize="16" FontWeight="Bold" Foreground="#212529"/>
                    <TextBlock x:Name="TxtHeaderSub" Text="보호된 콘텐츠입니다" FontSize="11" Foreground="#868E96"/>
                </StackPanel>
            </StackPanel>

            <!-- Hint Button -->
            <Button x:Name="BtnHint" Content="힌트 보기" HorizontalAlignment="Right" VerticalAlignment="Top" 
                    Background="Transparent" BorderThickness="0" Foreground="#ADB5BD" FontSize="10"
                    Click="BtnHint_Click" Cursor="Hand" Margin="0,5,0,0"/>

            <!-- Input Area -->
            <StackPanel Grid.Row="1" Margin="0,0,0,15">
                <TextBlock x:Name="TxtPasswordLabel" Text="비밀번호" FontSize="11" FontWeight="SemiBold" Foreground="#495057" Margin="2,0,0,4"/>
                <Grid>
                    <PasswordBox x:Name="PbPassword" Height="38" Style="{StaticResource ModernPasswordBox}" Background="#F8F9FA"/>
                    <TextBox x:Name="TxtPasswordReveal" Height="38" Style="{StaticResource ModernRevealTextBox}" Background="#F8F9FA" Visibility="Collapsed"/>
                    <Button x:Name="BtnShowPassword" HorizontalAlignment="Right" Width="40" Background="Transparent" BorderThickness="0" Cursor="Hand" Click="BtnShowPassword_Click" Margin="0,0,2,0">
                        <Path x:Name="PathEye" Data="M12,9A3,3,0,0,0,9,12A3,3,0,0,0,12,15A3,3,0,0,0,15,12A3,3,0,0,0,12,9M12,17A5,5,0,0,1,7,12A5,5,0,0,1,12,7A5,5,0,0,1,17,12A5,5,0,0,1,12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" 
                              Fill="#ADB5BD" Stretch="Uniform" Width="18" Height="18" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Button>
                </Grid>
            </StackPanel>

            <!-- Action Buttons -->
            <Grid Grid.Row="2" VerticalAlignment="Bottom" Margin="0,5,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Button x:Name="BtnCancel" Content="취소" Height="36" Style="{StaticResource SecondaryButton}" Click="BtnCancel_Click"/>
                <Button x:Name="BtnConfirm" Grid.Column="2" Content="잠금 해제" Height="36" Style="{StaticResource PrimaryButton}" IsDefault="True" Click="BtnConfirm_Click"/>
            </Grid>
        </Grid>
    </Border>
</Window>
